import os
from telegram import Update, ReplyKeyboardMarkup, ReplyKeyboardRemove
from telegram.ext import (
    Application,
    CommandHandler,
    MessageHandler,
    filters,
    ContextTypes,
    ConversationHandler
)
from dotenv import load_dotenv

load_dotenv()

TOKEN = os.getenv("BOT_TOKEN")
ADMIN_CHAT_ID = os.getenv("ADMIN_CHAT_ID")

# –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
START, MENU, HELP_TYPE, TYPING, FAQ_LEGAL, FAQ_MED = range(6)

# –ü–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ FAQ –≤–æ–ø—Ä–æ—Å—ã
FAQ_RESPONSES = {
    # –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
    "–ö–∞–∫ —Å–µ–π—á–∞—Å —Å–º–µ–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã?": """
–í –†–æ—Å—Å–∏–∏ —Å–º–µ–Ω–∞ –≥–µ–Ω–¥–µ—Ä–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ —Å–µ–π—á–∞—Å –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å—É–¥. –≠—Ç–æ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–¥–∫–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏—Ö –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤ ‚Äî –º–Ω–æ–≥–æ–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—É–¥—å–∏ –∏ —Ä–µ–≥–∏–æ–Ω–∞.

–ò–º—è –≤ –ó–ê–ì–°–µ –º–æ–≥—É—Ç –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–º–µ–Ω–∏—Ç—å, –µ—Å–ª–∏ –æ–Ω–æ ¬´–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç¬ª –≥–µ–Ω–¥–µ—Ä–Ω–æ–º—É –º–∞—Ä–∫–µ—Ä—É. –í —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —É–¥–∞—ë—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –∏–º—è. –£–±—Ä–∞—Ç—å –æ—Ç—á–µ—Å—Ç–≤–æ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –Ω–µ –≤–æ –≤—Å–µ—Ö –æ—Ç–¥–µ–ª–µ–Ω–∏—è—Ö ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ.

–ú—ã –º–æ–∂–µ–º —Å–≤—è–∑–∞—Ç—å –≤–∞—Å —Å —é—Ä–∏—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏—Ç—å —Ä–∏—Å–∫–∏ –∏ —à–∞–≥–∏ –≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ.""",

    "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞ –õ–ì–ë–¢?": """
–ó–∞–∫–æ–Ω –æ ¬´–õ–ì–ë–¢-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–µ¬ª —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç—Å—è –∫—Ä–∞–π–Ω–µ —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç–æ. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, –ø–æ–¥ –Ω–µ–≥–æ –º–æ–≥—É—Ç –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–≤–µ—Å—Ç–∏:
‚Ä¢ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–≤–æ–µ–≥–æ –æ–ø—ã—Ç–∞
‚Ä¢ —Ç—Ä–∞–Ω—Å—Ñ—Ä–µ–Ω–¥–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç (–≤–∏–¥–µ–æ, –ø–æ—Å—Ç—ã, –±–ª–æ–≥–∏)
‚Ä¢ –ø—É–±–ª–∏—á–Ω–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–º–µ–Ω—ã –ø–æ–ª–∞ –∏–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
‚Ä¢ –¥–∞–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç-–ø–µ—Ä—Å–æ–Ω –≤ –º–µ–¥–∏–∞

–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ:
‚Ä¢ –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –∏ —á–∞—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ–¥–ø–∞–¥–∞—é—Ç –ø–æ–¥ –∑–∞–∫–æ–Ω
‚Ä¢ –ª–∏—á–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ ‚Äî –Ω–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ
‚Ä¢ –∑–∞–∫–æ–Ω—ã –Ω–µ –¥–µ–π—Å—Ç–≤—É—é—Ç –≤–Ω–µ —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏ –†–§

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ–ø–∞—Å–µ–Ω–∏—è ‚Äî –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –ø–æ–¥–æ–±—Ä–∞—Ç—å —é—Ä–∏—Å—Ç–∞ –∏ –ø–æ—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –≥—Ä–æ–∑–∏—Ç, –∞ —á—Ç–æ –Ω–µ—Ç.""",

    # –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
    "–ñ–µ–Ω—Å–∫–∞—è –ì–¢": """
**–ñ–µ–Ω—Å–∫–∞—è –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è**

–§–µ–º–∏–Ω–∏–∑–∏—Ä—É—é—â–∞—è —Ç–µ—Ä–∞–ø–∏—è –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–∏—ë–º —ç—Å—Ç—Ä–æ–≥–µ–Ω–æ–≤ –∏ –∞–Ω—Ç–∏–∞–Ω–¥—Ä–æ–≥–µ–Ω–æ–≤. –í —Å—Ç—Ä–∞–Ω–∞—Ö –°–ù–ì —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω—ã —Ç–∞–∫–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã:

*–≠—Å—Ç—Ä–æ–≥–µ–Ω—ã:*
‚Ä¢ –≠—Å—Ç—Ä–∞–¥–∏–æ–ª –≤–∞–ª–µ—Ä–∞—Ç (–∏–Ω—ä–µ–∫—Ü–∏–∏): —á–∞—Å—Ç–æ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–≤–∫–ª—é—á–∞—è –∑–∞—Ä—É–±–µ–∂–Ω—ã–µ –∞–ø—Ç–µ–∫–∏)
‚Ä¢ –≠—Å—Ç—Ä–∞–¥–∏–æ–ª –≥–µ–ª—å: ¬´–î–∏–≤–∏–≥–µ–ª—å¬ª, ¬´–≠—Å—Ç—Ä–æ–∂–µ–ª—å¬ª ‚Äî –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –≤ –∞–ø—Ç–µ–∫–µ (—á–∞—Å—Ç–æ –±–µ–∑ —Ä–µ—Ü–µ–ø—Ç–∞)
‚Ä¢ –¢–∞–±–ª–µ—Ç–∫–∏: ¬´–ü—Ä–æ–≥–∏–Ω–æ–≤–∞¬ª (–º–µ–Ω—å—à–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑-–∑–∞ —Ä–∏—Å–∫–∞ —Ç—Ä–æ–º–±–æ–∑–æ–≤)

*–ê–Ω—Ç–∏–∞–Ω–¥—Ä–æ–≥–µ–Ω—ã:*
‚Ä¢ –¶–∏–ø—Ä–æ—Ç–µ—Ä–æ–Ω –∞—Ü–µ—Ç–∞—Ç (–ê–Ω–¥—Ä–æ–∫—É—Ä) ‚Äî —á–∞—Å—Ç–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ —Ä–µ—Ü–µ–ø—Ç–∞
‚Ä¢ –ë–∏–∫–∞–ª—É—Ç–∞–º–∏–¥ ‚Äî (25‚Äì50 –º–≥/–¥–µ–Ω—å)
‚Ä¢ –°–ø–∏—Ä–æ–Ω–æ–ª–∞–∫—Ç–æ–Ω ‚Äî –µ—Å—Ç—å –Ω–µ –≤–µ–∑–¥–µ, –¥–æ–∑—ã 100‚Äì200 –º–≥/–¥–µ–Ω—å

*–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:*
‚Ä¢ –≠–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∏ –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–∏—Å—ã–≤–∞—é—Ç –∂–µ–Ω—Å–∫–∏–µ –≥–æ—Ä–º–æ–Ω—ã —Ç-–ø–µ—Ä—Å–æ–Ω–∞–º, –æ—Å–æ–±–µ–Ω–Ω–æ –±–µ–∑ —Å–º–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ –ò–Ω—ä–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
‚Ä¢ –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—ë–º —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤ (–≥–æ—Ä–º–æ–Ω—ã, –ø–µ—á–µ–Ω—å, —Å–≤—ë—Ä—Ç—ã–≤–∞–µ–º–æ—Å—Ç—å)""",

    "–ú—É–∂—Å–∫–∞—è –ì–¢": """
**–ú—É–∂—Å–∫–∞—è –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è**

–ú–∞—Å–∫—É–ª–∏–Ω–∏–∑–∏—Ä—É—é—â–∞—è —Ç–µ—Ä–∞–ø–∏—è ‚Äî —ç—Ç–æ –ø—Ä–∏—ë–º —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω–∞ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –º—É–∂—Å–∫–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

*–§–æ—Ä–º—ã –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:*
‚Ä¢ –ê–Ω–¥—Ä–æ–≥–µ–ª—å (–≥–µ–ª—å): –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –≤ –∞–ø—Ç–µ–∫–µ, –∏–Ω–æ–≥–¥–∞ –±–µ–∑ —Ä–µ—Ü–µ–ø—Ç–∞
‚Ä¢ –ò–Ω—ä–µ–∫—Ü–∏–∏ (—ç–Ω–∞–Ω—Ç–∞—Ç, —Ü–∏–ø–∏–æ–Ω–∞—Ç, —Å—É—Å—Ç–∞–Ω–æ–Ω, –Ω–µ–±–∏–¥–æ): –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ —Ä–µ—Ü–µ–ø—Ç—É, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ ‚Äî –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –≤–∫–ª—é—á–∞—è —Å—Ç–µ—Ä–æ–∏–¥–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã

*–ü—Ä–∏–º–µ—Ä–Ω—ã–µ —Å—Ö–µ–º—ã:*
‚Ä¢ –ì–µ–ª—å: 5 –≥ (1 —Å–∞—à–µ) –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
‚Ä¢ –ò–Ω—ä–µ–∫—Ü–∏–∏: 50‚Äì100 –º–≥ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –∏–ª–∏ –ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —Å—Ö–µ–º–µ

*–í–∞–∂–Ω–æ:*
‚Ä¢ –≠–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –æ—Ç–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–∑–Ω–∞—á–∞—Ç—å –≥–æ—Ä–º–æ–Ω—ã —Ç-–ø–µ—Ä—Å–æ–Ω–∞–º –±–µ–∑ —Å–º–µ–Ω—ã –≥–µ–Ω–¥–µ—Ä–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
‚Ä¢ –ê–Ω–∞–ª–∏–∑—ã (—Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω, –≥–µ–º–∞—Ç–æ–∫—Ä–∏—Ç –∏ –¥—Ä.) –º–æ–∂–Ω–æ —Å–¥–∞–≤–∞—Ç—å –≤ —á–∞—Å—Ç–Ω—ã—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è—Ö""",

    "–î–∏–∞–≥–Ω–æ–∑ F64": """
F64 ‚Äî —ç—Ç–æ –∫–æ–¥ –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±–æ–ª–µ–∑–Ω–µ–π (–ú–ö–ë-10), –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π –≥–µ–Ω–¥–µ—Ä–Ω—É—é –¥–∏—Å—Ñ–æ—Ä–∏—é. –í —Å—Ç—Ä–∞–Ω–∞—Ö –°–ù–ì —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É ¬´—Ä–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏¬ª –∏–ª–∏ ¬´—Ç—Ä–∞–Ω—Å—Å–µ–∫—Å—É–∞–ª–∏–∑–º¬ª.

*–í–∞–∂–Ω–æ:*
‚Ä¢ –í –†–§ —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞ –Ω–µ –∏–º–µ–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π —Å–∏–ª—ã –∏ –Ω–µ –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –≥–æ—Ä–º–æ–Ω–∞–º –∏–ª–∏ —Å–º–µ–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ –í—Ä–∞—á–∞–º –≤ –†–§ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –≥–æ—Ä–º–æ–Ω—ã —Ç-–ø–µ—Ä—Å–æ–Ω–∞–º –±–µ–∑ —Å–º–µ–Ω—ã –≥–µ–Ω–¥–µ—Ä–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
‚Ä¢ –°–ø—Ä–∞–≤–∫–∞ F64 —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ —Ä—É–±–µ–∂–æ–º ‚Äî –∫–ª–∏–Ω–∏–∫–∏ —Ç—Ä–µ–±—É—é—Ç –µ—ë –¥–ª—è –¥–æ–ø—É—Å–∫–∞

*–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:*
–£ –ø—Å–∏—Ö–∏–∞—Ç—Ä–∞ (–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–ª–∏ —á–∞—Å—Ç–Ω–æ–≥ÔøΩÔøΩ), –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö ‚Äî —É —Ç—Ä–∞–Ω—Å—Ñ—Ä–µ–Ω–¥–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö.""",

    "–ì–¥–µ –¥–µ–ª–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏?": """
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –†–æ—Å—Å–∏–∏ –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å–º–µ–Ω–µ –ø–æ–ª–∞. –ì–µ–Ω–¥–µ—Ä–Ω–æ-–∞—Ñ—Ñ–∏—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∑–∞ —Ä—É–±–µ–∂–æ–º:

*–°—Ç—Ä–∞–Ω—ã:*
‚Ä¢ –¢–∞–∏–ª–∞–Ω–¥ (–ª–∏–¥–µ—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–ø–µ—Ä–∞—Ü–∏–π)
‚Ä¢ –¢—É—Ä—Ü–∏—è (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ)
‚Ä¢ –ê—Ä–º–µ–Ω–∏—è, –°–µ—Ä–±–∏—è (–±—é–¥–∂–µ—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)
‚Ä¢ –ú–µ–∫—Å–∏–∫–∞, –ò—Å–ø–∞–Ω–∏—è (–¥–ª—è –≥—Ä–∞–∂–¥–∞–Ω —ç—Ç–∏—Ö —Å—Ç—Ä–∞–Ω)

*–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:*
1. –î–∏–∞–≥–Ω–æ–∑ F64 (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –∫–ª–∏–Ω–∏–∫)
2. –ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è (–æ–±—ã—á–Ω–æ 12+ –º–µ—Å—è—Ü–µ–≤)
3. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å —Ö–∏—Ä—É—Ä–≥–æ–º

*–ú—ã –º–æ–∂–µ–º:*
- –ü–æ–¥—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏
- –ü–æ–º–æ—á—å —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –î–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –ª—é–¥–µ–π, —É–∂–µ –ø—Ä–æ—à–µ–¥—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏"""
}

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
main_kb = ReplyKeyboardMarkup([
    ["–ó–∞–ø—Ä–æ—Å –æ –ø–æ–º–æ—â–∏"],
    ["–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ—Å—É—Ä—Å", "–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å"],
    ["ÔøΩÔøΩ–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ", "–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º"],
    ["–ù–∞–∑–∞–¥"]
], resize_keyboard=True)

help_kb = ReplyKeyboardMarkup([
    ["–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è", "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è"],
    ["–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è", "–ñ–∏–ª—å—ë –∏ —Ñ–∏–Ω–∞–Ω—Å—ã"],
    ["–ù–∞–∑–∞–¥"]
], resize_keyboard=True)

legal_faq_kb = ReplyKeyboardMarkup([
    ["–ö–∞–∫ —Å–µ–π—á–∞—Å —Å–º–µ–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã?", "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞ –õ–ì–ë–¢?"],
    ["–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —é—Ä–∏—Å—Ç–∞", "–ù–∞–∑–∞–¥"]
], resize_keyboard=True)

medical_faq_kb = ReplyKeyboardMarkup([
    ["–ñ–µ–Ω—Å–∫–∞—è –ì–¢", "–ú—É–∂—Å–∫–∞—è –ì–¢"],
    ["–î–∏–∞–≥–Ω–æ–∑ F64", "–ì–¥–µ –¥–µ–ª–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏?"],
    ["–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞", "–ù–∞–∑–∞–¥"]
], resize_keyboard=True)

# ID –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏
CHANNELS = {
    "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è": -100123456,
    "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è": -100789012,
    "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è": -100345678,
    "–ñ–∏–ª—å—ë –∏ —Ñ–∏–Ω–∞–Ω—Å—ã": -100901234,
    "–ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ": -100567890,
    "–†–µ—Å—É—Ä—Å—ã": -100567890
}

async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.message.reply_text(
        "–î–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ. –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.",
        reply_markup=main_kb
    )
    return MENU

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ '–ü–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–µ–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ'.\n\n"
        "–í—ã –º–æ–∂–µ—Ç–µ:\n"
        "- –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—â—å (—é—Ä–∏–¥–∏—á–µ—Å–∫—É—é, –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –∏ –¥—Ä.)\n"
        "- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π —Ä–µ—Å—É—Ä—Å\n"
        "- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ\n"
        "- –°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º\n"
        "- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
        reply_markup=main_kb
    )
    return MENU

async def menu(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    choice = update.message.text
    if choice == "–ó–∞–ø—Ä–æ—Å –æ –ø–æ–º–æ—â–∏":
        await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ–º–æ—â–∏:", reply_markup=help_kb)
        return HELP_TYPE
    elif choice == "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ—Å—É—Ä—Å":
        context.user_data["type"] = "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞"
        await update.message.reply_text("–û–ø–∏—à–∏—Ç–µ —Ä–µ—Å—É—Ä—Å, –∫–æ—Ç–æ—ÄÔøΩÔøΩ–π —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å:", reply_markup=ReplyKeyboardRemove())
        return TYPING
    elif choice == "–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å":
        await update.message.reply_text(
            "–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:\n\n"
            "‚Ä¢ Boosty: https://boosty.to/t64/donate\n"
            "‚Ä¢ USDT (TRC-20): TLTBoXCSifWGBeuiRkxkPtH9M9mfwSf1sf",
            reply_markup=main_kb,
            disable_web_page_preview=True
        )
        return MENU
    elif choice == "–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º":
        await update.message.reply_text(
            "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞:\n"
            "https://forms.gle/n2mZdRA2fYBeeCUY7",
            reply_markup=main_kb,
            disable_web_page_preview=True
        )
        return MENU
    elif choice == "–ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ":
        context.user_data["type"] = "–ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
        await update.message.reply_text("–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –û–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è.", reply_markup=ReplyKeyboardRemove())
        return TYPING
    elif choice == "–ù–∞–∑–∞–¥":
        return await start(update, context)
    return MENU

async def help_category(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    category = update.message.text
    if category == "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è":
        await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:", reply_markup=legal_faq_kb)
        return FAQ_LEGAL
    elif category == "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è":
        await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:", reply_markup=medical_faq_kb)
        return FAQ_MED
    elif category == "–ù–∞–∑–∞–¥":
        return await start(update, context)
    else:
        context.user_data["type"] = f"–ó–∞–ø—Ä–æ—Å - {category}"
        await update.message.reply_text("–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é:", reply_markup=ReplyKeyboardRemove())
        return TYPING

async def handle_legal_faq(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    question = update.message.text
    if question == "–ù–∞–∑–∞–¥":
        await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:", reply_markup=help_kb)
        return HELP_TYPE
    elif question == "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —é—Ä–∏—Å—Ç–∞":
        context.user_data["type"] = "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è - –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è"
        await update.message.reply_text("–û–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å —é—Ä–∏—Å—Ç—É:", reply_markup=ReplyKeyboardRemove())
        return TYPING
    else:
        response = FAQ_RESPONSES.get(question, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —ç—Ç–æ–º—É –≤–æ–ø—Ä–æ—Å—É –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.")
        await update.message.reply_text(response, reply_markup=legal_faq_kb, parse_mode="Markdown")
        return FAQ_LEGAL

async def handle_medical_faq(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    question = update.message.text
    if question == "–ù–∞–∑–∞–¥":
        await update.message.reply_text("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:", reply_markup=help_kb)
        return HELP_TYPE
    elif question == "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞":
        context.user_data["type"] = "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è - –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è"
        await update.message.reply_text("–û–ø–∏—à–∏—Ç–µ –≤–∞—à –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å:", reply_markup=ReplyKeyboardRemove())
        return TYPING
    else:
        response = FAQ_RESPONSES.get(question, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —ç—Ç–æ–º—É –≤–æ–ø—Ä–æ—Å—É –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.")
        await update.message.reply_text(response, reply_markup=medical_faq_kb, parse_mode="Markdown")
        return FAQ_MED

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    msg = update.message.text
    request_type = context.user_data.get("type", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å")
    
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏
    channel_key = request_type.split()[0]
    if "–°–†–û–ß–ù–û" in request_type:
        channel_key = "–°—Ä–æ—á–Ω–∞—è"
    chat_id = CHANNELS.get(channel_key, ADMIN_CHAT_ID)
    
    # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∞
    text = f"üì© *{request_type}*\n"
    if "–ê–Ω–æ–Ω–∏–º–Ω–æ–µ" not in request_type:
        text += f"–û—Ç: @{update.message.from_user.username or '–Ω–µ—Ç'} (ID: {update.message.from_user.id})\n\n"
    text += msg
    
    await context.bot.send_message(
        chat_id=chat_id,
        text=text,
        parse_mode="Markdown"
    )
    await update.message.reply_text("‚úÖ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!", reply_markup=main_kb)
    return MENU

def main():
    app = Application.builder().token(TOKEN).build()
    
    conv_handler = ConversationHandler(
        entry_points=[CommandHandler('start', start)],
        states={
            MENU: [MessageHandler(filters.TEXT & ~filters.COMMAND, menu)],
            HELP_TYPE: [MessageHandler(filters.TEXT & ~filters.COMMAND, help_category)],
            FAQ_LEGAL: [MessageHandler(filters.TEXT & ~filters.COMMAND, handle_legal_faq)],
            FAQ_MED: [MessageHandler(filters.TEXT & ~filters.COMMAND, handle_medical_faq)],
            TYPING: [MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message)]
        },
        fallbacks=[CommandHandler('cancel', cancel)]
    )
    
    app.add_handler(conv_handler)
    app.run_polling()

if __name__ == "__main__":
    main()
